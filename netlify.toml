[build]
  command = "npm run build"
  publish = "out" # Next.js static export outputs to /out

[build.environment]
  NODE_VERSION = "22"

# No need for the nextjs plugin with static export
# [[plugins]]
#   package = "@netlify/plugin-nextjs"

# If you need your validation key accessible
[[redirects]]
  from = "/validation-key.txt"
  to = "/validation-key.txt"
  status = 200

# Catch-all for client-side routing (important for SPAs)
[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200

# Pi Browser Domain Verification - Serve file directly
[[redirects]]
  from = "/validation-key.txt"
  to = "/validation-key.txt"
  status = 200
  force = true

# Optional: Also serve a simple page if root fails
[[redirects]]
  from = "/"
  to = "/index.html"
  status = 200
  force = true
